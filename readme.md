Есть веб-api, непрерывно принимающее события (ограничимся 10000 событий) для группы аккаунтов (1000 аккаунтов) и складывающее их в очередь.
Каждое событие связано с определенным аккаунтом и важно, чтобы события аккаунта обрабатывались в том же порядке, в котором поступили в очередь. Обработка события занимает 1 секунду (эмулировать с помощью sleep).
Сделать обработку очереди событий максимально быстрой на данной конкретной машине.
Код писать на PHP. Можно использовать фреймворки и инструменты такие как RabbitMQ, Redis, MySQL и т. д.


## Решение

В решение используется PHP и redis.

Конфиг для Redis в config/redis.php

Исполняемые файлы в папке bin
* fixtures.php - генерация фикстур в файл fixtures/events.json
* event.php - загружает очередь событий из фикстур в redis
* worker.php - обработчик очереди событий. Запускается в нескольких экземплярах, для этого нужно передать id клиента в параметрах. Пример: `php bin/worker.php 1` (запустит worker для клиента с id 1)

Идея в том, что каждый клиент имеет свою очередь событий в redis. Каждый worker берет событие из очереди клиента и обрабатывает его. После обработки событие удаляется из очереди. Если очередь пуста, worker ждет 10 секунд и заново проверяет очередь. В случае ошибки, происходит повторная попытка обработки события.